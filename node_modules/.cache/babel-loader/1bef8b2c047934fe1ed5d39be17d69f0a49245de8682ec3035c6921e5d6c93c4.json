{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{currentUserContext,loginContext}from'../contexts/Context';import{leaderDashboardContext}from'./../contexts/Context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[username,setUsername]=useState('');const[inputError,setInputError]=useState(false);const isLogin=useContext(loginContext);const userInfo=useContext(currentUserContext);const leaderDashboard=useContext(leaderDashboardContext);const changeUsername=e=>{setUsername(e.target.value);};const loginInGame=()=>{if(username===''){setInputError(true);return;}if(leaderDashboard.leaderDashboard.length===0){userInfo.setUser({userName:username,id:Math.floor(Math.random()*(99999-10000)+10000),timeEasy:0,timeMid:0,timeHard:0});leaderDashboard.setNewUser(true);setInputError(false);}else{for(let i=0;i<leaderDashboard.leaderDashboard.length;i++){if(username===leaderDashboard.leaderDashboard[i].userName){userInfo.setUser({userName:leaderDashboard.leaderDashboard[i].userName,id:leaderDashboard.leaderDashboard[i].id,timeEasy:leaderDashboard.leaderDashboard[i].timeEasy,timeMid:leaderDashboard.leaderDashboard[i].timeMid,timeHard:leaderDashboard.leaderDashboard[i].timeHard});leaderDashboard.setNewUser(false);setInputError(false);break;}else{userInfo.setUser({userName:username,id:Math.floor(Math.random()*(99999-10000)+10000),timeEasy:0,timeMid:0,timeHard:0});leaderDashboard.setNewUser(true);setInputError(false);}}}};useEffect(()=>{if(Object.keys(userInfo.user).length!==0){localStorage.setItem('currentUser',JSON.stringify(userInfo.user));if(leaderDashboard.isNewUser){leaderDashboard.leaderDashboard.push(userInfo.user);localStorage.setItem('leaderDashboard',JSON.stringify(leaderDashboard.leaderDashboard));}isLogin.setLogin(true);localStorage.setItem('login',true);}});return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \\u0432\\u0445\\u043E\\u0434\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u041B\\u043E\\u0433\\u0438\\u043D\",className:\"login-input\",value:username,onChange:changeUsername}),/*#__PURE__*/_jsx(\"p\",{className:inputError?'error-text':'error-text__off',children:\"\\u0412\\u044B \\u043D\\u0435 \\u0432\\u0432\\u0435\\u043B\\u0438 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"classic-button\",onClick:loginInGame,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]});};export default Login;","map":{"version":3,"names":["React","useContext","useEffect","useState","currentUserContext","loginContext","leaderDashboardContext","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","inputError","setInputError","isLogin","userInfo","leaderDashboard","changeUsername","e","target","value","loginInGame","length","setUser","userName","id","Math","floor","random","timeEasy","timeMid","timeHard","setNewUser","i","Object","keys","user","localStorage","setItem","JSON","stringify","isNewUser","push","setLogin","className","children","type","placeholder","onChange","onClick"],"sources":["C:/Users/bibat/OneDrive/Рабочий стол/Работа/поверстать/saper/src/pages/Login.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { currentUserContext, loginContext } from '../contexts/Context';\r\nimport { leaderDashboardContext } from './../contexts/Context';\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState('')\r\n    const [inputError, setInputError] = useState(false)\r\n    const isLogin = useContext(loginContext)\r\n    const userInfo = useContext(currentUserContext)\r\n    const leaderDashboard = useContext(leaderDashboardContext)\r\n\r\n    const changeUsername = (e) => {\r\n        setUsername(e.target.value)\r\n    }\r\n    const loginInGame = () => {\r\n        if (username === '') {\r\n            setInputError(true)\r\n            return\r\n        }\r\n        if (leaderDashboard.leaderDashboard.length === 0) {\r\n            userInfo.setUser({\r\n                userName: username,\r\n                id: Math.floor(Math.random() * (99999 - 10000) + 10000),\r\n                timeEasy: 0,\r\n                timeMid: 0,\r\n                timeHard: 0\r\n            })\r\n            leaderDashboard.setNewUser(true)\r\n            setInputError(false)\r\n        } else {\r\n            for (let i = 0; i < leaderDashboard.leaderDashboard.length; i++) {\r\n                if (username === leaderDashboard.leaderDashboard[i].userName) {\r\n                    userInfo.setUser({\r\n                        userName: leaderDashboard.leaderDashboard[i].userName,\r\n                        id: leaderDashboard.leaderDashboard[i].id,\r\n                        timeEasy: leaderDashboard.leaderDashboard[i].timeEasy,\r\n                        timeMid: leaderDashboard.leaderDashboard[i].timeMid,\r\n                        timeHard: leaderDashboard.leaderDashboard[i].timeHard,\r\n                    });\r\n                    leaderDashboard.setNewUser(false) \r\n                    setInputError(false)\r\n                    break; \r\n                } else {\r\n                    userInfo.setUser({\r\n                        userName: username,\r\n                        id: Math.floor(Math.random() * (99999 - 10000) + 10000),\r\n                        timeEasy: 0,\r\n                        timeMid: 0,\r\n                        timeHard: 0\r\n                    })\r\n                    leaderDashboard.setNewUser(true)\r\n                    setInputError(false)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (Object.keys(userInfo.user).length !== 0) {\r\n            localStorage.setItem('currentUser', JSON.stringify(userInfo.user))\r\n            if (leaderDashboard.isNewUser) {\r\n                leaderDashboard.leaderDashboard.push(userInfo.user)\r\n                localStorage.setItem('leaderDashboard', JSON.stringify(leaderDashboard.leaderDashboard))\r\n            }\r\n            isLogin.setLogin(true)\r\n            localStorage.setItem('login', true)\r\n        }\r\n    })\r\n    \r\n    return (\r\n        <div className='wrapper'>\r\n            <h1>Страница входа</h1>\r\n            <input type=\"text\" placeholder='Логин' className='login-input' value={username} onChange={changeUsername}/>\r\n            <p className={inputError ? 'error-text' : 'error-text__off'}>Вы не ввели имя пользователя!</p>\r\n            <button className='classic-button' onClick={loginInGame}>Войти</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}